# 2.1.2 - Deploy imagem do Docker Hub

Vamos agora implantar uma imagem existente no Docker Hub. Para executar a imagem. siga os passos abaixo:

**Openshift 3.11**

![](https://raw.githubusercontent.com/guaxinim/test-drive-openshift/master/gitbook/assets/deployimage.gif)

## Escolha a imagem para deploy

Você pode usar a imagem criada durante o lab de introdução ao Docker. Ela ficou salva no seguinte formato

Ao realizar o deploy, altere o nome para `app-container-image`

```text
docker.io/<usuario-do-dockerhub>/workshop-openshift
```
Caso você não tenha criado uma imagem no docker hub, utilize a imagem abaixo:

```text
docker.io/lasher/workshop-openshift
```

Caso queira usar a linha de comando, execute:

```text
oc new-app --name="app-container-image" <usuario-do-dockerhub>/workshop-openshift -n <nome-do-projeto>
```

Para saber o nome do seu projeto no Openshift, basta executar:

```text
oc get projects
```

![](https://raw.githubusercontent.com/guaxinim/test-drive-openshift/master/gitbook/assets/console-image-deploy.gif)

Caso você tenha errado na criação da sua aplicação, para deletar execute o seguinte comando no terminal:

```bash
oc delete all -l app=app-container-image -n <nome-do-projeto>
```
Para saber o nome do seu projeto no Openshift, basta executar:

```text
oc get projects
```

> **OBS: Por questões de segurança não é recomendado que a imagem utilize o usuário root.**

Se a imagem escolhida rodar como root, o Openshift avisará que ela pode eventualmente não executar conforme o esperado:

![](https://raw.githubusercontent.com/guaxinim/test-drive-openshift/master/gitbook/assets/gogs.gif)


## Crie a rota para expor a aplicação externamente

Na interface web, na aba overview, clique na seta para baixo ao lado de Deployment Config e selecione a opção _**create route.**_

![](https://raw.githubusercontent.com/guaxinim/test-drive-openshift/master/gitbook/assets/create-route.png)

E depois clique em **Create Route**

![](https://raw.githubusercontent.com/guaxinim/test-drive-openshift/master/gitbook/assets/create-route2.png)

Depois de criado, a url irá aparece na tela de overview

![](https://raw.githubusercontent.com/guaxinim/test-drive-openshift/master/gitbook/assets/access-route.png)

**Command line**

Também podemos usar a linha de comando para criar a nossa rota. Para isso, basta executar:

```text
oc expose svc workshop-openshift -n <nome-do-projeto>
```
Para saber o nome do seu projeto no Openshift, basta executar:

```text
oc get projects
```

![](https://raw.githubusercontent.com/guaxinim/test-drive-openshift/master/gitbook/assets/expose-svc.gif)

## Explorando a GUI do POD

Para ver detalhes do container que acabamos de criar, basta clicar em cima do circulo azul e depois navegar pelas abas `Details, Environment, Metrics, Logs, Terminal e Events`

![](https://raw.githubusercontent.com/guaxinim/test-drive-openshift/master/gitbook/assets/overview.gif)

**Detalhes do POD**

![](https://raw.githubusercontent.com/guaxinim/test-drive-openshift/master/gitbook/assets/pod-details.png)

1. Ip do POD
2. Node no qual o POD está executando
3. Imagem utilizada
4. Porta exposta pelo POD

**Environment**

![](https://raw.githubusercontent.com/guaxinim/test-drive-openshift/master/gitbook/assets/pod-environment.png)

**Metricas do Pod**

![](https://raw.githubusercontent.com/guaxinim/test-drive-openshift/master/gitbook/assets/pod-metrics.png)

**Logs do POD**

![](https://raw.githubusercontent.com/guaxinim/test-drive-openshift/master/gitbook/assets/pod-logs.png)

**Terminal do POD**

![](https://raw.githubusercontent.com/guaxinim/test-drive-openshift/master/gitbook/assets/selection_232.png)

**Eventos do POD**

![](https://raw.githubusercontent.com/guaxinim/test-drive-openshift/master/gitbook/assets/selection_233-1.png)

### Mais informações:[ ](https://blog.openshift.com/deploying-images-from-dockerhub/)

* [https://blog.openshift.com/getting-any-docker-image-running-in-your-own-openshift-cluster/](https://blog.openshift.com/getting-any-docker-image-running-in-your-own-openshift-cluster/)
* [https://blog.openshift.com/deploying-images-from-dockerhub/](https://blog.openshift.com/deploying-images-from-dockerhub/)



